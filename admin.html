<!doctype html>
<html lang="pt-BR">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="./images/motherboard 2.svg" type="ferramentas">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500&display=swap" rel="stylesheet">
    <title>
        <link rel="stylesheet" href="#/newindex.html">Admin - Assistência Co.
    </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
    <link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="style.css">
    <script type="text/javascript" src="js/ordem-servico.js"></script>
    <script type="text/javascript" src="js/tecnicos.js"></script>
    <script type="text/javascript" src="js/servicos.js"></script>
    <script type="text/javascript" src="js/filtro-dinamico.js"></script>
</head>

<body class="bg-light" onload="load()">

    <div class="bg-primary p-1 text-light">
        <nav class="navbar navbar-expand-lg my-3">
            <div class="container">
                <a class="navbar-brand text-light" href="#/index.html"> Assistência Co.</a>

                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                    <i class="bi bi-list icon-menu"></i>
                </button>

                <div class="d-flex align-items-center">
                    <div class="photo">
                        <img src="./images/user.png" alt="" class="official-photo mb-3">
                    </div>
                    <div class="employee-data funcionario">
                        <h5>Olá Funcionário</h5>
                        <p>Seja bem-vindo - <a href="./index.html" class=" text-light">Sair</a></p>
                    </div>
                </div>

            </div>
        </nav>
    </div>

    <main class="container mb-5">
        <header>
            <ul class="nav nav-tabs mt-2" id="myTab" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="home-tab" data-bs-toggle="tab" data-bs-target="#home-tab-pane"
                        type="button" role="tab" aria-controls="home-tab-pane" aria-selected="true">Home</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="search-tab" data-bs-toggle="tab" data-bs-target="#search-tab-pane"
                        type="button" role="tab" aria-controls="search-tab-pane" aria-selected="false">Buscar</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="servicos-tab" data-bs-toggle="tab" data-bs-target="#servicos-tab-pane"
                        type="button" onclick="loadServicos()" role="tab" aria-controls="custos-tab-pane"
                        aria-selected="false">Serviços</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="tecnicos-tab" data-bs-toggle="tab" data-bs-target="#tecnicos-tab-pane"
                        type="button" onclick="loadTech()" role="tab" aria-controls="tecnicos-tab-pane"
                        aria-selected="false">Técnicos</button>
                </li>
            </ul>
        </header>

        <div class="tab-content" id="home-tab">

            <section class="tab-pane fade show active" id="home-tab-pane" role="tabpanel" aria-labelledby="home-tab"
                tabindex="0">

                <div
                    class="g-col-lg-8 g-col-md-12 g-col-12 border border-top-0 border-1 rounded-1 rounded-top-0  p-4 mx-n2">

                    <div class=" alert alert-success" id="sucesso" role="alert">
                        <div class="row d-flex justify-content-center">
                            Equipamento cadastrado com sucesso!
                        </div>
                    </div>
                    <div class=" alert alert-warning" id="alerta" role="alert">
                        <div class="row d-flex justify-content-center">
                            Verifique se todos os campos foram preenchidos e tente novamente!
                        </div>
                    </div>


                    <h4 class="font-title">Cadastrar Equipamento</h4>
                    <form class="dados" id="dados" method="post">

                        <div class="row mb-3">
                            <div class="col-md-6 my-3">
                                <label for="proprietario" class="form-label">Proprietário</label>
                                <input type="text" class="form-control" id="proprietario" name="proprietario"
                                    placeholder="Digite o nome" required>
                            </div>


                            <div class="col-md-3 my-3">
                                <label for="documento" class="form-label">Número do Doc</label>
                                <input type="text" class="form-control" id="documento" name="documento"
                                    placeholder="CPF ou CNPJ">
                            </div>

                            <div class="col-md-3 my-3">
                                <label for="telefone" class="form-label">Contato</label>
                                <input type="tel" class="form-control" id="telefone" name="telefone"
                                    placeholder="(xx)xxxx-xxxx">

                            </div>

                            <div class="col-md-12 my-2">
                                <label for="defeito" class="form-label">Reparo</label>
                                <textarea class="form-control" id="defeito" name="defeito"
                                    placeholder="Ex: Tela quebrada..." required></textarea>
                            </div>

                            <div class="col-md-3 my-3">
                                <label for="tipo" class="form-label">Tipo de Equipamento</label>
                                <select name="tipo" id="tipo" class="form-select" required>
                                </select>
                            </div>

                            <div class="col-md-3 my-3">
                                <label for="modelo" class="form-label">Modelo</label>
                                <input type="text" class="form-control" id="modelo" name="modelo"
                                    placeholder="Ex: Dell">
                            </div>

                            <div class="col-md-3 my-3">
                                <label for="dataEntrada" class="form-label">Data de Entrada</label>
                                <input type="date" class="form-control" id="dataEntrada" name="dataEntrada" required>

                            </div>

                            <div class="col-md-3 my-3">
                                <label for="previsao" class="form-label">Previsão de Entrega</label>
                                <input type="date" class="form-control" id="dataSaida" name="previsao" required>
                            </div>

                        </div>
                        <div class="d-flex justify-content-end mt-4">
                            <button type="button" onclick="inserir()" class="btn btn-primary">Cadastrar</button>
                        </div>
                    </form>
                </div>

                <article>
                    <div class=" g-col-12 border border-1 rounded-1 p-4" id="os">
                        <h4 class="font-title">Ordem de Serviço</h4>
                        <table class="text-center table mt-4 font-light table-striped">
                            <thead class="table-primary">
                                <tr>
                                    <th>Cód</th>
                                    <th>Proprietário</th>
                                    <th>Equipamento</th>
                                    <th>Modelo</th>
                                    <th>Entrada</th>
                                    <th>Reparo</th>
                                    <th>Previsão</th>
                                    <th>Status</th>
                                    <th>Ações</th>
                                </tr>
                            </thead>
                            <tbody id="tableDados">
                            </tbody>
                        </table>
                        <div class="alert alert-danger" id="falha" role="alert">Falha na requisição!</div>
                    </div>
                </article>
            </section>

            <section class="tab-pane fade" id="search-tab-pane" role="tabpanel" aria-labelledby="search-tab"
                tabindex="0">
                <div
                    class="col-lg-12 g-col-md-12 g-col-12 border border-1 rounded-1 rounded-top-0 rounded-bottom-0 border-bottom-0 border-top-0 mx-n2 d-flex ">
                    <div class="col-4 p-4">
                        <h4 class="font-title">Ordem de Serviço</h4>
                    </div>
                    <div class="col-8">
                        <div class="row">
                            <div class=" col m-2 ">
                                <label for="search">Nome</label>
                                <form id="form-search"></form>
                                <input type="search" name="nome" id="search" class="form-control"
                                    placeholder="Pesquisar" onsearch="consultarfiltro()">
                            </div>
                            <div class="col m-2">
                                <label for="documento" class="form-label-sm">CPF</label>
                                <input type="text" name="documento" id="form-documento" class="form-control"
                                    onchange="consultarfiltro()">
                            </div>
                            <div class="col m-2 me-4">
                                <label for="dataEntrada" class="form-label-sm">Data Entrada</label>
                                <input type="date" name="dataEntrada" id="data" class="form-control"
                                    onchange="consultarfiltro()">
                            </div>
                        </div>
                    </div>

                </div>
                <div
                    class="bg-danger-subtle border border-1 border-top-0 rounded-top-0 rounded-bottom-1 elemento-visivel">
                </div>
                <article class="elemento-oculto">
                    <div class=" g-col-12 border border-1 border-top-0 rounded-1 rounded-top-0 px-4">
                        <table class="text-center table py-4 font-light table-striped">
                            <thead class="table-primary">
                                <tr>
                                    <th>Cód</th>
                                    <th>Proprietário</th>
                                    <th>Equipamento</th>
                                    <th>Modelo</th>
                                    <th>Entrada</th>
                                    <th>Reparo</th>
                                    <th>Previsão</th>
                                    <th>Status</th>
                                    <th>Ações</th>
                                </tr>
                            </thead>
                            <tbody id="tableResultado">
                            </tbody>
                        </table>

                        <div class="alert alert-danger alerta" role="alert">Falha na requisição!</div>
                    </div>
                </article>
            </section>


            <section class="tab-pane fade" id="servicos-tab-pane" role="tabpanel" aria-labelledby="servicos-tab"
                tabindex="0">
                <div
                    class="col-lg-12 g-col-md-12 g-col-12 border border-1 rounded-1 rounded-top-0 rounded-bottom-0 border-bottom-0 border-top-0 mx-n2 d-flex justify-content-between">

                    <div class="col-6 p-4" id="servicos-disponiveis">
                        <h4 class="font-title">Serviços Disponíveis</h4>
                    </div>

                    <div class="col-4 ">
                        <label for="buscarServico"></label>
                        <form action=""></form>
                        <input type="search" name="buscarServico" id="buscarServico" onsearch="buscarPorIdServico()"
                            class="form-control" placeholder="Pesquisar">
                    </div>

                    <div class="col-2 p-4">
                        <button type="button" class="btn btn-primary" data-bs-toggle="modal"
                            data-bs-target="#servicoModal" onclick="montarModal()">
                            Novo Serviço
                        </button>
                    </div>


                    <div class="modal fade" id="servicoModal" tabindex="-1" role="dialog"
                        aria-labelledby="TituloModalCentralizado" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="tituloModal">Título do modal</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                        aria-label="Close"></button>
                                </div>

                                <div id="montar-modal"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <article>
                    <div id="elemento-pai">
                        <p id="resultado" class="text-success text-center 
                    elemento-oculto">teste</p>
                    </div>
                    <div class=" g-col-12 border border-1 border-top-0 rounded-1 rounded-top-0 p-4">
                        <table class="text-center table font-light table-striped">
                            <thead class="table-primary">
                                <tr>
                                    <th>Cód</th>
                                    <th>Descrição</th>
                                    <th>Valor</th>
                                    <th>Ações</th>
                                </tr>
                            </thead>
                            <tbody id="tableServicos">
                            </tbody>
                        </table>
                        <div class="alert alert-danger error" role="alert">Falha na requisição!</div>
                    </div>
                </article>


            </section>
            <section class="tab-pane fade" id="tecnicos-tab-pane" role="tabpanel" aria-labelledby="disabled-tab"
                tabindex="0">
                <div
                    class="col-lg-12 g-col-md-12 g-col-12 border border-1 rounded-1 rounded-top-0 rounded-bottom-0 border-bottom-0 border-top-0 mx-n2 d-flex justify-content-between">

                    <div class="col-10 p-4" id="servicos-disponiveis">
                        <h4 class="font-title" id="tech">Consultar Técnicos</h4>
                    </div>

                    <div class="col-2 p-4">
                        <button type="button" class="btn btn-primary" data-bs-toggle="modal"
                            data-bs-target="#tecnicoModal" onclick="montarModalTech()">
                            Novo Serviço
                        </button>
                    </div>

                    <div class="modal fade" id="tecnicoModal" tabindex="-1" role="dialog"
                        aria-labelledby="TituloModalCentralizado" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="tituloModalTech">Título do modal</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                        aria-label="Close"></button>
                                </div>

                                <div id="modalTech"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <article class="">
                    <div class=" g-col-12 border border-1  rounded-1 p-4 pt-0">
                        <table class="text-center table mt-4 font-light table-striped">
                            <thead class="table-primary">
                                <tr>
                                    <th>Id</th>
                                    <th>Nome</th>
                                    <th>Email</th>
                                    <th>Celular</th>
                                    <th>Ações</th>
                                </tr>
                            </thead>
                            <tbody id="tableTecnicos">
                        </table>
                        <div class="alert alert-danger erro" role="alert">Falha na requisição!</div>
                        </tbody>
                        <nav aria-label="nav-pagination">
                            <ul class="pagination" id="pagination2">
                                <li class="page-item first disabled" onclick="ativar(this),voltarTela()" id="0"><a
                                        class="page-link" aria-label="Anterior"><span
                                            class="sr-only font-light">Anterior</span></a>
                                </li>
                                <li class="page-item active" onclick="ativar(this), mudar(this)" id="1" font-light"><a
                                        class="page-link">1</a></li>
                                <li class="page-item" onclick="ativar(this), mudar(this)" font-light" id="2"><a
                                        class="page-link" href="#os">2</a></li>
                                <li class="page-item" onclick="ativar(this), mudar(this)" font-light id="3""><a class="
                                    page-link" href="#os">3</a></li>
                                <li class="page-item next" onclick="ativar(this), proximaTela()" id="4"><a
                                        class="page-link" href="#os" aria-label="Proxima"><span
                                            class="sr-only font-light">Próxima</span></a></li>
                            </ul>
                        </nav>
                </article>

            </section>
        </div>
        <div class="grid gap-1">
        </div>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
        crossorigin="anonymous"></script>
</body>

</html>